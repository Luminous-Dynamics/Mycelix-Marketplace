---
manifest_version: "1"
name: mycelix_marketplace
integrity:
  origin_time: 2024-01-01T00:00:00.000000Z
  network_seed: ~
  properties: ~

  # Integrity zomes define data validation rules
  zomes:
    - name: listings_integrity
      bundled: zomes/listings/integrity.wasm

    - name: reputation_integrity
      bundled: zomes/reputation/integrity.wasm

    - name: transactions_integrity
      bundled: zomes/transactions/integrity.wasm

    - name: arbitration_integrity
      bundled: zomes/arbitration/integrity.wasm

    - name: messaging_integrity
      bundled: zomes/messaging/integrity.wasm

# Coordinator zomes implement business logic
coordinator:
  zomes:
    - name: listings
      bundled: zomes/listings/coordinator.wasm
      dependencies:
        - name: listings_integrity
        - name: reputation_integrity  # Listings need trust scores

    - name: reputation
      bundled: zomes/reputation/coordinator.wasm
      dependencies:
        - name: reputation_integrity

    - name: transactions
      bundled: zomes/transactions/coordinator.wasm
      dependencies:
        - name: transactions_integrity
        - name: listings_integrity  # Transactions reference listings
        - name: reputation_integrity  # Need seller trust scores

    - name: arbitration
      bundled: zomes/arbitration/coordinator.wasm
      dependencies:
        - name: arbitration_integrity
        - name: transactions_integrity  # Disputes reference transactions
        - name: reputation_integrity  # Arbitrators need reputation

    - name: messaging
      bundled: zomes/messaging/coordinator.wasm
      dependencies:
        - name: messaging_integrity
        - name: reputation_integrity  # MATL gating for spam prevention
        - name: listings_integrity  # Conversations can reference listings
        - name: transactions_integrity  # Conversations can reference transactions
